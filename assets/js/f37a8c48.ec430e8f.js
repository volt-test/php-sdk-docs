"use strict";(self.webpackChunkphp_sdk_docs=self.webpackChunkphp_sdk_docs||[]).push([[5973],{2483:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"VoltTest Configuration","title":"VoltTest Configuration","description":"VoltTest provides a flexible configuration system for setting up your performance tests. Here\'s how to configure and customize your test scenarios.","source":"@site/docs/VoltTest.md","sourceDirName":".","slug":"/VoltTest Configuration","permalink":"/docs/VoltTest Configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/volt-test/php-sdk-docs/tree/main/docs/VoltTest.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"VoltTest Configuration","title":"VoltTest Configuration","sidebar_label":"Volt Test Configuration","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Core Concepts and Architecture","permalink":"/docs/Core Concepts and Architecture"},"next":{"title":"Scenarios","permalink":"/docs/Scenarios"}}');var i=n(4848),r=n(8453);const o={id:"VoltTest Configuration",title:"VoltTest Configuration",sidebar_label:"Volt Test Configuration",sidebar_position:5},l="VoltTest Configuration",a={},d=[{value:"Basic Configuration",id:"basic-configuration",level:2},{value:"Test Parameters",id:"test-parameters",level:2},{value:"Virtual Users",id:"virtual-users",level:3},{value:"Ramp Up Delay",id:"ramp-up-delay",level:3},{value:"Test Duration",id:"test-duration",level:3},{value:"HTTP Debugging",id:"http-debugging",level:3},{value:"Complete Configuration Example",id:"complete-configuration-example",level:2},{value:"Configuration Validation",id:"configuration-validation",level:2},{value:"Running The Test",id:"running-the-test",level:2},{value:"Configuration Best Practices",id:"configuration-best-practices",level:2},{value:"Configuration Properties",id:"configuration-properties",level:2}];function c(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"volttest-configuration",children:"VoltTest Configuration"})}),"\n",(0,i.jsx)(t.p,{children:"VoltTest provides a flexible configuration system for setting up your performance tests. Here's how to configure and customize your test scenarios."}),"\n",(0,i.jsx)(t.h2,{id:"basic-configuration",children:"Basic Configuration"}),"\n",(0,i.jsx)(t.p,{children:"When creating a new test, you start by initializing the VoltTest class:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-php",children:"<?php\nuse VoltTest\\VoltTest;\n\n$test = new VoltTest(\n'API Test Suite',           // Test name\n'Testing API endpoints'     // Optional description\n);\n"})}),"\n",(0,i.jsx)(t.h2,{id:"test-parameters",children:"Test Parameters"}),"\n",(0,i.jsx)(t.h3,{id:"virtual-users",children:"Virtual Users"}),"\n",(0,i.jsx)(t.p,{children:"Set the number of concurrent virtual users to simulate during the test."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-php",children:"$test->setVirtualUsers(10); // By default, 1 virtual user is used \n"})}),"\n",(0,i.jsx)(t.h3,{id:"ramp-up-delay",children:"Ramp Up Delay"}),"\n",(0,i.jsx)(t.p,{children:"The ramp-up delay determines how new virtual users (VUs) are introduced over time instead of starting all at once.\nThis helps simulate real-world traffic and prevents instant overload."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-php",children:"$test->setRampUp('10s'); // 10 seconds\n"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["If ",(0,i.jsx)(t.code,{children:"RampUp"})," is set, users are distributed evenly over the specified time."]}),"\n",(0,i.jsxs)(t.li,{children:["If ",(0,i.jsx)(t.code,{children:"RampUp"})," is not set, all virtual users start immediately."]}),"\n",(0,i.jsx)(t.li,{children:"The delay per user is calculated as:"}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"rampUpDelay = Total RampUp Time / Number of Virtual Users \n"})}),"\n",(0,i.jsx)(t.p,{children:"For example, if you set 100 virtual users with a ramp-up of 10s, each VU will start with a 100ms delay between them."}),"\n",(0,i.jsx)(t.h3,{id:"test-duration",children:"Test Duration"}),"\n",(0,i.jsx)(t.p,{children:"Set the total test duration using time units (s: seconds, m: minutes, h: hours):"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-php",children:"$test->setDuration('30s');  // 30 seconds\n$test->setDuration('5m');   // 5 minutes\n$test->setDuration('1h');   // 1 hour\n"})}),"\n",(0,i.jsx)(t.p,{children:"Test duration ensures the test runs continuously until the specified time is reached, even if all iterations aren't completed. If the duration ends before all iterations are done, the test stops. If the iterations finish early, the test keeps running until the time is up."}),"\n",(0,i.jsx)(t.h3,{id:"http-debugging",children:"HTTP Debugging"}),"\n",(0,i.jsx)(t.p,{children:"When your writing test, maybe you need to check if the requests are being sent correctly. You can enable HTTP debugging to see the request and response headers:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-php",children:"$test->setHttpDebug(true); // By default, false\n"})}),"\n",(0,i.jsx)(t.h2,{id:"complete-configuration-example",children:"Complete Configuration Example"}),"\n",(0,i.jsx)(t.p,{children:"Here's an example of a complete test configuration:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-php",children:"$test = new VoltTest('Complete Test Configuration', 'Full configuration Example');\n    ->setVirtualUsers(100)       // 100 concurrent users\n    ->setDuration('5m')          // Run for 5 minutes\n    ->setRampUp('10s')           // Gradually start users over 10 seconds\n    ->setHttpDebug(true);       // Enable HTTP debugging\n"})}),"\n",(0,i.jsx)(t.h2,{id:"configuration-validation",children:"Configuration Validation"}),"\n",(0,i.jsx)(t.p,{children:"The configuration system includes built-in validation:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Virtual users must be at least 1"}),"\n",(0,i.jsx)(t.li,{children:"Duration must use valid time units (s, m, h)"}),"\n",(0,i.jsx)(t.li,{children:"Target must use valid time units (s, m, h)"}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["Invalid configurations throw ",(0,i.jsx)(t.code,{children:"VoltTestException"})," with descriptive messages:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-php",children:"// These will throw exceptions\n$test->setVirtualUsers(0);              // Invalid user count\n$test->setDuration('invalid');          // Invalid duration format\n$test->setTarget('not-valid');         // Invalid target format\n"})}),"\n",(0,i.jsx)(t.h2,{id:"running-the-test",children:"Running The Test"}),"\n",(0,i.jsx)(t.admonition,{type:"warning",children:(0,i.jsx)(t.p,{children:"Run test without scenarios will throw an exception."})}),"\n",(0,i.jsxs)(t.p,{children:["After configuring your test and make a scenarios, you can run it using the ",(0,i.jsx)(t.code,{children:"run()"})," method:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-php",children:"// Run without progress tracking\n$result = $test->run();\n\n// Run with real-time progress or http debugging\n$result = $test->run(true);\n"})}),"\n",(0,i.jsx)(t.admonition,{type:"info",children:(0,i.jsxs)(t.p,{children:["Pass ",(0,i.jsx)(t.code,{children:"true"})," to the ",(0,i.jsx)(t.code,{children:"run()"})," function to enable ",(0,i.jsx)(t.strong,{children:"real-time progress"})," tracking and if you are ",(0,i.jsx)(t.strong,{children:"debugging"})," the requests."]})}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"run()"})," function will wait until the test is completed and return the result object."]}),"\n",(0,i.jsx)(t.h2,{id:"configuration-best-practices",children:"Configuration Best Practices"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Set realistic virtual user counts based on your system capacity"}),"\n",(0,i.jsx)(t.li,{children:"Use appropriate duration for your test scenarios"}),"\n",(0,i.jsx)(t.li,{children:"Enable HTTP debug only when needed for troubleshooting"}),"\n",(0,i.jsx)(t.li,{children:"Validate configurations before running large-scale tests"}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"configuration-properties",children:"Configuration Properties"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Property"}),(0,i.jsx)(t.th,{children:"Description"}),(0,i.jsx)(t.th,{children:"Format"}),(0,i.jsx)(t.th,{children:"Default"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"name"}),(0,i.jsx)(t.td,{children:"Test name"}),(0,i.jsx)(t.td,{children:"string"}),(0,i.jsx)(t.td,{children:"Required"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"description"}),(0,i.jsx)(t.td,{children:"Test description"}),(0,i.jsx)(t.td,{children:"string"}),(0,i.jsx)(t.td,{children:"Empty string"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"virtualUsers"}),(0,i.jsx)(t.td,{children:"Concurrent users"}),(0,i.jsx)(t.td,{children:"integer > 0"}),(0,i.jsx)(t.td,{children:"1"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"duration"}),(0,i.jsx)(t.td,{children:"Test duration"}),(0,i.jsx)(t.td,{children:"number + unit (s/m/h)"}),(0,i.jsx)(t.td,{children:"Required"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"rampup"}),(0,i.jsx)(t.td,{children:"RampUp Delay"}),(0,i.jsx)(t.td,{children:"number + unit (s/m/h)"}),(0,i.jsx)(t.td,{children:"0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"httpDebug"}),(0,i.jsx)(t.td,{children:"Debug mode"}),(0,i.jsx)(t.td,{children:"boolean"}),(0,i.jsx)(t.td,{children:"false"})]})]})]})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>l});var s=n(6540);const i={},r=s.createContext(i);function o(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);